<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>caoshen - caoshen 的博客</title><meta name="author" content="caoshen"><meta name="copyright" content="caoshen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta property="og:type" content="website">
<meta property="og:title" content="caoshen">
<meta property="og:url" content="https://www.okclouder.cn/page/4/index.html">
<meta property="og:site_name" content="caoshen">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://avatars2.githubusercontent.com/u/3806787?s=460&u=ee280a9fc6c98bc591f30ffbf10360a9ac3822ff&v=4">
<meta property="article:author" content="caoshen">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://avatars2.githubusercontent.com/u/3806787?s=460&u=ee280a9fc6c98bc591f30ffbf10360a9ac3822ff&v=4"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.okclouder.cn/page/4/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2020-11-30 22:29:49'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="caoshen" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://avatars2.githubusercontent.com/u/3806787?s=460&amp;u=ee280a9fc6c98bc591f30ffbf10360a9ac3822ff&amp;v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">151</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://pic1.zhimg.com/80/v2-53cf7b4f3782749070a4207dd4d4888b_1440w.jpeg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">caoshen</a></span><span id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="site-info"><h1 id="site-title">caoshen</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/caoshen" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/11/27/Java%20%E5%BC%BA%E8%BD%AF%E5%BC%B1%E8%99%9A%E5%BC%95%E7%94%A8/" title="无题">     <img class="post_bg" src="https://pic1.zhimg.com/80/v2-53cf7b4f3782749070a4207dd4d4888b_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/27/Java%20%E5%BC%BA%E8%BD%AF%E5%BC%B1%E8%99%9A%E5%BC%95%E7%94%A8/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-27T00:56:17.778Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></span></div><div class="content">Java 强软弱虚引用Java 根据对象的引用方式可以分为：强引用、软引用、弱引用、虚引用。即 SoftReference、WeakReference、PhantomReference。SoftReference、WeakReference、PhantomReference 位于 java.lang.ref 包，它们通常和 ReferenceQueue 一起使用。
强引用强引用即对象的直接引用。比如：
Handler handler = new Handler();
强引用的对象不会被系统回收。如果内存不足也不会回收强引用对象，JVM 可能抛出 OOM 错误，程序异常终止。强引用特点是可以直接访问对象，可能导致内存泄露。
软引用 SoftReference如果一个对象具有软引用，那么当内存足够时，系统不会回收对象；如果内存不够，系统会回收这些对象。
软引用可以和 ReferenceQueue 队列关联。
    ReferenceQueue&lt;String&gt; queue = new ReferenceQueue&lt;&gt;();
    SoftReference&lt; ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/11/27/Android%20%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/" title="无题">     <img class="post_bg" src="https://pic1.zhimg.com/80/v2-ae3e138bac66bc9e3081c035d27dcfd9_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/27/Android%20%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-27T00:56:17.778Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></span></div><div class="content">Android 消息机制Android 的消息机制是通过 Handler 来完成的。Handler 内部有 Looper 和 MessageQueue 分别用来处理消息循环和保存消息队列。
线程默认是没有 Looper 的，因此没有办法处理消息。线程要使用 Handler 处理消息，必须先准备消息循环，即先创建 Looper，再根据 Looper 创建线程的 Handler。
应用主线程(UI 线程) ActivityThead 在启动的时候已经在 main 方法中创建了 MainLooper，所以可以直接在主线程中创建 Handler 而不会抛出异常。
消息机制概述Android 消息机制主要依靠 Handler 来发送和处理消息（Message）。Handler 的主要作用是将一个任务切换到某个指定的线程，比如在子线程执行完耗时任务后，通过 Handler 把任务执行的结果传递到主线程中，更新界面。Handler 也用来处理顺序消息或者处理延时消息。
Android 规定 UI 只能在主线程中进行，大多数时候，如果直接在子线程中访问 UI，那么程序会抛出异常。这个异常是由 View ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/11/27/Okhttp%20%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/" title="无题">     <img class="post_bg" src="https://pic1.zhimg.com/80/v2-1fb9faa1ea61d40bed117604673486ae_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/27/Okhttp%20%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-27T00:56:17.777Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></span></div><div class="content">Okhttp 基本用法Okhttp 是一个 Android 常用的开源网络框架。Github 地址如下：
Okhttp
OkHttp 当前的版本是 4.0.1，现在同时支持 Java 和 Kotlin。
HttpURLConnection 和 OkHttp从 Android 4.4 版本开始，系统内置了 OkHttp。从 URL 类的 createBuiltinHandler 方法可以发现构造 Handler 时反射调用了 Okhttp 的 HttpHandler。其中 okhttp 的包名是 com.android，这是因为系统在依赖的时候替换了原来的 com.squareup 包名。
123456789101112131415161718private static URLStreamHandler createBuiltinHandler(String protocol)        throws ClassNotFoundException, InstantiationException, IllegalAccessException &#123;    URLStreamH ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/11/27/Android%20Window/" title="无题">     <img class="post_bg" src="https://pic1.zhimg.com/80/v2-1fb9faa1ea61d40bed117604673486ae_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/27/Android%20Window/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-27T00:56:17.776Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></span></div><div class="content">Android WindowWindow 是一个抽象类，它的实现是 PhoneWindow。Activity 的 setContentView 方法实际上就是通过 PhoneWindow 完成的。一般使用 WindowManager 来添加 View。WindowManager 是客户端用来添加 View 的接口，WindowManager 在 framework 层对应的是 WindowManagerService。
使用 WindowManager 添加 View首先构造好需要添加的 View 和 LayoutParams，然后通过 WindowManager 的 addView 方法添加。
123456789101112131415private void addWindow() &#123;    Button button = new Button(this);    button.setText(&quot;button&quot;);    WindowManager windowManager = (WindowManager) getSystemService(Con ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/11/27/Application%20%E7%9A%84%20onCreate%20%E5%92%8C%20attachBaseContext/" title="无题">     <img class="post_bg" src="https://pic1.zhimg.com/80/v2-ae3e138bac66bc9e3081c035d27dcfd9_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/27/Application%20%E7%9A%84%20onCreate%20%E5%92%8C%20attachBaseContext/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-27T00:56:17.774Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></span></div><div class="content">Application 的 onCreate 和 attachBaseContextApplication 的 onCreate 和 attachBaseContext 是 Application 的两个回调方法，通常我们会在其中做一些初始化操作。
onCreate 和 attachBaseContext 顺序Application 的 attachBaseContext 在 onCreate 之前执行。
handleBindApplicationApp 的 application 创建是在 ActivityThread 的 handleBindApplication 方法完成的。
123456789101112131415161718192021222324private void handleBindApplication(AppBindData data) &#123;    ...    // If the app is Honeycomb MR1 or earlier, switch its AsyncTask    // implementation to use the  ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/11/27/Activity%E9%9A%BE%E7%82%B9/" title="无题">     <img class="post_bg" src="https://pic4.zhimg.com/80/v2-905b30ef749b15963046e9bd1d41f195_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/27/Activity%E9%9A%BE%E7%82%B9/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-27T00:56:17.773Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></span></div><div class="content">Activity 难点记录 Activity 相关的问题。
setResult 和 finish 的关系假设 Activity A 跳转到 Activity B，B 如果想回传一个 intent 给 A，setResult 和 finish 的执行顺序应该是怎样的？
应该先 setResult，然后再 finish。
123456public final void setResult(int resultCode, Intent data) &#123;    synchronized (this) &#123;        mResultCode = resultCode;        mResultData = data;    &#125;&#125;

可以看出，setResult 的作用是将 resultCode 和 data 赋值给 Activity 的 mResultCode 和 mResultData 两个字段。
123public void finish() &#123;    finish(DONT_FINISH_TASK_WITH_ACTIVITY);&#12 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/11/27/%E5%B0%8F%E7%A8%8B%E5%BA%8F%20rpx/" title="无题">     <img class="post_bg" src="https://pic1.zhimg.com/80/v2-1fb9faa1ea61d40bed117604673486ae_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/27/%E5%B0%8F%E7%A8%8B%E5%BA%8F%20rpx/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-27T00:56:17.771Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></span></div><div class="content">rpx 尺寸单位rpx 的全称是 responsive pixel，自适应像素
1尺寸单位. rpx（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为750rpx.

任何手机的屏幕宽度都是750rpx，屏幕的高度可以根据手机的宽高比例换算出来。
举个例子：
iPhone 7 宽高比 375 x 667, 因此屏幕高度对应与 667 / 375 x 750 rpx = 1334 rpx
iPhone 7 Plus 宽高比 414 x 736，因此屏幕高度对应与 736 / 414 x 750 rpx = 1333.33 rpx
iPhone X 宽高比 375 x 812，因此屏幕高度对应与 812 / 375 x 750 rpx = 1624 rpx
rpx小测试问题：
rpx 全称是什么？（请填写英语全称）
iphone 7 的屏幕宽度对应多少 rpx？
iphone 7 的屏幕高度对应多少 rpx？
iphone 7 Plus 的屏幕宽度对应多少 rpx？
iphone 7 Plus 的屏幕高度对应多少 rpx？
iphone X 的屏幕宽度对应多少 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/11/27/Android%20RemoveViews/" title="无题">     <img class="post_bg" src="https://pic1.zhimg.com/80/v2-1fb9faa1ea61d40bed117604673486ae_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/27/Android%20RemoveViews/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-27T00:56:17.769Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></span></div><div class="content">Android RemoveViewsRemoteViews 远程视图，它不是用在应用自身的进程中，而是用在其他进程（SystemServer 进程）中显示视图界面，但它不是真正的 View，也没有继承自 View 类。RemoteViews 的使用场景有两种，通知栏和桌面小部件（Widget）。
RemoteViews 在通知栏的应用发送通知时可以使用 RemoteViews 完成自定义通知栏 View 的效果。
123456789101112131415161718192021222324252627282930313233343536@Overrideprotected void onCreate(@Nullable Bundle savedInstanceState) &#123;    super.onCreate(savedInstanceState);    setContentView(R.layout.remote_views_activity);    mNotificationManager = (NotificationManager) getApplicati ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2020/11/27/Android%20%E5%AD%90%E7%BA%BF%E7%A8%8B%E6%9B%B4%E6%96%B0%20UI/" title="无题">     <img class="post_bg" src="https://pic4.zhimg.com/80/v2-905b30ef749b15963046e9bd1d41f195_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/27/Android%20%E5%AD%90%E7%BA%BF%E7%A8%8B%E6%9B%B4%E6%96%B0%20UI/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-27T00:56:17.767Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></span></div><div class="content">Android 子线程更新 UI一般来说，不能在子线程更新 UI 控件，否则子线程和主线程同时更新 UI，可能导致 UI 被多个线程控制，显示异常。
onCreate 更新 UI下面这个例子，在 Activity 的 onCreate 可以更新 UI。
123456789101112@Overrideprotected void onCreate(@Nullable Bundle savedInstanceState) &#123;    super.onCreate(savedInstanceState);    setContentView(R.layout.worker_thread_activity);    final TextView text = findViewById(R.id.text);    new Thread(new Runnable() &#123;        @Override        public void run() &#123;            text.setText(&quot;run in worker thread.&quo ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2020/11/27/%E7%94%A8%20RxJava%20%E5%AE%9E%E7%8E%B0%20RxBus/" title="无题">     <img class="post_bg" src="https://pic1.zhimg.com/80/v2-ae3e138bac66bc9e3081c035d27dcfd9_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2020/11/27/%E7%94%A8%20RxJava%20%E5%AE%9E%E7%8E%B0%20RxBus/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2020-11-27T00:56:17.766Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></span></div><div class="content">用 RxJava 实现 RxBusRxJava 可以用来实现 RxBus，实现事件发送和监听。
创建 RxBus1234567891011121314151617181920212223242526272829public class RxBus &#123;    private static volatile RxBus rxBus;    private final Subject&lt;Object&gt; subject = PublishSubject.create().toSerialized();    private RxBus() &#123;    &#125;    public static RxBus getInstance() &#123;        if (rxBus == null) &#123;            synchronized (RxBus.class) &#123;                if (rxBus == null) &#123;                    rxBus = new RxBus();   ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/3/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/5/"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://avatars2.githubusercontent.com/u/3806787?s=460&amp;u=ee280a9fc6c98bc591f30ffbf10360a9ac3822ff&amp;v=4" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">caoshen</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">151</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">20</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/caoshen"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/caoshen" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">hello</div></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2020/11/27/Java%20%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/" title="无题"><img src="https://pic1.zhimg.com/80/v2-ae3e138bac66bc9e3081c035d27dcfd9_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2020/11/27/Java%20%E9%98%BB%E5%A1%9E%E9%98%9F%E5%88%97/" title="无题">无题</a><time datetime="2020-11-27T00:56:17.811Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/11/27/Android%20RxJava%20%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/" title="无题"><img src="https://pic1.zhimg.com/80/v2-53cf7b4f3782749070a4207dd4d4888b_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2020/11/27/Android%20RxJava%20%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/" title="无题">无题</a><time datetime="2020-11-27T00:56:17.810Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/11/27/Java%20volatile%20%E5%85%B3%E9%94%AE%E5%AD%97/" title="无题"><img src="https://pic1.zhimg.com/80/v2-1fb9faa1ea61d40bed117604673486ae_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2020/11/27/Java%20volatile%20%E5%85%B3%E9%94%AE%E5%AD%97/" title="无题">无题</a><time datetime="2020-11-27T00:56:17.810Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/11/27/ContentProvider%20%E9%9A%BE%E7%82%B9/" title="无题"><img src="https://pic1.zhimg.com/80/v2-ae3e138bac66bc9e3081c035d27dcfd9_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2020/11/27/ContentProvider%20%E9%9A%BE%E7%82%B9/" title="无题">无题</a><time datetime="2020-11-27T00:56:17.809Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2020/11/27/OkHttp%20%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" title="无题"><img src="https://pic1.zhimg.com/80/v2-53cf7b4f3782749070a4207dd4d4888b_1440w.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2020/11/27/OkHttp%20%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" title="无题">无题</a><time datetime="2020-11-27T00:56:17.809Z" title="发表于 2020-11-27 08:56:17">2020-11-27</time></div></div></div></div></div><div class="card-widget card-categories"><div class="card-content"><div class="item-headline"><i class="fas fa-folder-open"></i><span>分类</span></div><ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Android/"><span class="card-category-list-name">Android</span><span class="card-category-list-count">33</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Kotlin/"><span class="card-category-list-name">Kotlin</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%AE%97%E6%B3%95/"><span class="card-category-list-name">算法</span><span class="card-category-list-count">33</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%93%9D%E7%89%99/"><span class="card-category-list-name">蓝牙</span><span class="card-category-list-count">7</span></a></li>
            
            </ul></div></div><div class="card-widget card-tags"><div class="card-content"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/BFS/" style="font-size: 1.1em; color: #999">BFS</a> <a href="/tags/BLE/" style="font-size: 1.1em; color: #999">BLE</a> <a href="/tags/BLE%E5%B9%BF%E6%92%AD/" style="font-size: 1.1em; color: #999">BLE广播</a> <a href="/tags/Gradle/" style="font-size: 1.39em; color: #99a4b4">Gradle</a> <a href="/tags/IPC/" style="font-size: 1.1em; color: #999">IPC</a> <a href="/tags/Kotlin/" style="font-size: 1.21em; color: #999ea4">Kotlin</a> <a href="/tags/Kotlin%E6%A0%87%E5%87%86%E5%BA%93/" style="font-size: 1.1em; color: #999">Kotlin标准库</a> <a href="/tags/Proguard/" style="font-size: 1.1em; color: #999">Proguard</a> <a href="/tags/View/" style="font-size: 1.1em; color: #999">View</a> <a href="/tags/%E5%9B%BE/" style="font-size: 1.1em; color: #999">图</a> <a href="/tags/%E6%95%B0%E7%BB%84/" style="font-size: 1.33em; color: #99a2af">数组</a> <a href="/tags/%E6%A0%88/" style="font-size: 1.1em; color: #999">栈</a> <a href="/tags/%E6%A0%91/" style="font-size: 1.27em; color: #99a0a9">树</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.5em; color: #99a9bf">算法</a> <a href="/tags/%E8%93%9D%E7%89%99/" style="font-size: 1.27em; color: #99a0a9">蓝牙</a> <a href="/tags/%E8%93%9D%E7%89%99Profile/" style="font-size: 1.1em; color: #999">蓝牙Profile</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.44em; color: #99a7ba">设计模式</a> <a href="/tags/%E9%80%92%E5%BD%92/" style="font-size: 1.1em; color: #999">递归</a> <a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size: 1.16em; color: #999b9e">链表</a> <a href="/tags/%E9%95%9C%E5%83%8F/" style="font-size: 1.1em; color: #999">镜像</a></div></div></div><div class="card-widget card-archives"><div class="card-content"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/11/"><span class="card-archive-list-date">十一月 2020</span><span class="card-archive-list-count">63</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/10/"><span class="card-archive-list-date">十月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/09/"><span class="card-archive-list-date">九月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/08/"><span class="card-archive-list-date">八月 2020</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/06/"><span class="card-archive-list-date">六月 2020</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/05/"><span class="card-archive-list-date">五月 2020</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/04/"><span class="card-archive-list-date">四月 2020</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2020/03/"><span class="card-archive-list-date">三月 2020</span><span class="card-archive-list-count">12</span></a></li><li class="card-archive-list-item more is-center"><a class="card-archive-list-link-more" href="/archives/">
              <span>查看更多</span><i class="fas fa-angle-right"  ></i></a></li></ul></div></div><div class="card-widget card-webinfo"><div class="card-content"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">151</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2020-11-30T14:29:49.241Z"></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 By caoshen</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="icp"><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/"><span>鄂ICP备18020323号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><div class="js-pjax"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>